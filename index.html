<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="CSS/style.css" />
    <title>Igor Arzin</title>
  </head>
  <body>
    <div class="osnova">
      <header>
        <nav class="nav">
          <ul>
            <li><a href="#summary">SUMMARY</a></li>
            <li><a href="#goal">GOAL</a></li>
            <li><a href="#skills">SKILLS</a></li>
            <li><a href="#codeexamples">CODE EXAMPLES</a></li>
            <li><a href="#education">EDUCATION</a></li>
            <li><a href="#english">ENGLISH</a></li>
          </ul>
        </nav>
      </header>
      <div class="Fotka">
        <img src="IMG/Photo.png" height="257px" />
        <div class="Inf">
          <h1>ARZIN IGOR VLADIMIROVICH</h1>
          <p>Date of birth: 18.02.1990</p>
        </div>
        <div class="clear"></div>
      </div>

      <div class="contact">
        <p><img src="IMG/Vector(2).png" width="20px" />&nbsp;&nbsp;+375 (29) 191-75-64</p>
        <p><img src="IMG/Email.png" width="20px" />&nbsp;&nbsp;neitron_h19@mail.ru</p>
      </div>
      <div id="goal">
        <h2>GOAL</h2>
        <p>
          To build a career in the IT sector. I am honest, responsible,
          stress-resistant, able to work in a team, able to solve problems,
          ready to learn and constantly engaged in self-education. I would like
          to realize myself in the field of IT.
        </p>
      </div>
      <div id="skills">
        <h2>SKILLS</h2>
        <ul>
          <li>>&nbsp;&nbsp; HTML5, CSS3;</li>
          <li>>&nbsp;&nbsp; PHP;</li>
          <li>>&nbsp;&nbsp; Pascal;</li>
          <li>>&nbsp;&nbsp; Delphi;</li>
          <li>>&nbsp;&nbsp; C#;</li>
          <li>>&nbsp;&nbsp; C++;</li>
          <li>>&nbsp;&nbsp; MS SQL Server</li>
        </ul>
      </div>
      <div id="codeexamples">
          <h2>CODE EXAMPLES</h2>
          <div class="mudak">
          <p>
            <pre><code>
                &lt;?php
                defined('ZASHITA') or die('Access denied');
                
                
                function gild(){
                    $query = &quot;SELECT * FROM gild&quot;;
                    global $link;
                    $res = mysqli_query($link, $query);
                    
                    $gildii = array();
                    while ($row = mysqli_fetch_assoc($res)) {
                        $gildii[] = $row;
                    }
                    return $gildii;
                }
                
                
                function menu_g($id_g, $id_m){
                    $query = &quot;SELECT * FROM menu_gild WHERE &#x60;id_menu&#x60;='$id_m' AND &#x60;id_gild&#x60;='$id_g'&quot;;
                    global $link;
                    $res = mysqli_query($link, $query) or die(mysql_query());
                    if (mysqli_num_rows($res) == 1) {
                        return 1;
                    } else {
                        return 0;
                    }
                }
                
                function shablon($g){
                    global $link;
                    $g=mysqli_real_escape_string($link, $g);
                    $query = &quot;SELECT * FROM gild WHERE &#x60;krot_mane&#x60;='$g'&quot;;
                    
                    $res = mysqli_query($link, $query) or die(mysql_query());
                    
                    if (mysqli_num_rows($res) == 1) {
                        $row = mysqli_fetch_assoc($res);
                        return $row;
                    } else {
                        return 0;
                    }
                    
                }
                
                
                function addip(){
                   $client  = @$_SERVER['HTTP_CLIENT_IP'];
                    $forward = @$_SERVER['HTTP_X_FORWARDED_FOR'];
                    $remote  = @$_SERVER['REMOTE_ADDR'];
                 
                if(filter_var($client, FILTER_VALIDATE_IP)) $ip = $client;
                elseif(filter_var($forward, FILTER_VALIDATE_IP)) $ip = $forward;
                else $ip = $remote;
                $ip = shifr_ip($ip);
                    $d  = date(&quot;j.n.Y&quot;);
                    $a = $_SERVER[&quot;HTTP_REFERER&quot;];
                    global $link;
                     if (count_table_par('users_ip','ip',$ip,'date',$d)==0)	{
                    $query = &quot;INSERT INTO users_ip (ip, date, addres ) VALUES ('$ip','$d','$a')&quot;;
                             $res = mysqli_query($link, $query); 
                     }
                }
                
                
                function registration ($id_gild){
                    $error = '';
                    global $link;
                    $login=mysqli_real_escape_string($link,trim($_POST['login']));
                    $login_game=mysqli_real_escape_string($link,trim($_POST['login_game']));
                    $mail=mysqli_real_escape_string($link,trim($_POST['email']));  
                    $nastroi=mysqli_real_escape_string($link,trim($_POST['nastroi']));
                    $id_gild = (int) $id_gild;
                    $pass = trim($_POST['pass']);
                    $pass2 = trim($_POST['pass2']);
                    $date =  date(&quot;j.n.Y&quot;);
                    $sailt=sailt();
                    
                    //Полкчаем ip адрес
                    $client  = @$_SERVER['HTTP_CLIENT_IP'];
                    $forward = @$_SERVER['HTTP_X_FORWARDED_FOR'];
                    $remote  = @$_SERVER['REMOTE_ADDR'];
                 
                if(filter_var($client, FILTER_VALIDATE_IP)) $ip = $client;
                elseif(filter_var($forward, FILTER_VALIDATE_IP)) $ip = $forward;
                else $ip = $remote;
                $ip = shifr_ip($ip);
                
                
                    if (empty($login)) { $error .= '1'; $_SESSION['reg']['res']['login'] = 'Не указан логин';}
                    if (empty($pass)) { $error .= '2';  $_SESSION['reg']['res']['pass'] = 'Не указан Пароль';}
                    if (empty($mail)) { $error .= '3';  $_SESSION['reg']['res']['mail'] = 'Не указан Email';}
                    if ($pass != $pass2) { $error .= '4';  $_SESSION['reg']['res']['pass2'] = 'Несовподают пароли';}
                    
                    if (empty($error)) {
                        $query = &quot;SELECT id FROM users WHERE login = '$login' LIMIT 1&quot;;
                        $res = mysqli_query($link,$query) ;
                        $row = mysqli_num_rows($res);
                        if ($row == 1 ){
                            //есть такой пользователь
                            $_SESSION['reg']['res'] = &quot;5&quot;;
                        }else{
                            
                            $query = &quot;SELECT id FROM users WHERE mail = '$mail' LIMIT 1&quot;;
                            $res = mysqli_query($link,$query) ;
                            $row = mysqli_num_rows($res);
                            if ($row == 1 ){
                                $_SESSION['reg']['res'] = &quot;6&quot;;
                            } else {
                            
                            
                                //нет такова пользователя
                                $pass = hesh_pas($pass,$sailt);
                                $pass = password_hash($pass, PASSWORD_DEFAULT);
                            $login_game = $login;
                            $mail = shifr_mail($mail);
                                $query = &quot;INSERT INTO users (id_gild, login, login_game, pas, sailt, mail, ip, date)
                                VALUES ($id_gild, '$login', '$login_game', '$pass', '$sailt', '$mail', '$ip', '$date')&quot;;
                                $res = mysqli_query($link,$query);
                                if (mysqli_affected_rows($link)&gt;0){
                                    $_SESSION['reg']['res'] = &quot;8&quot;;
                                    $_SESSION['auth']['user'] = $login;
                                }else{$_SESSION['reg']['res'] = &quot;7&quot;;}
                                
                            }
                        }
                        
                    }else{
                        $_SESSION['reg']['res'] = &quot;-1&quot;;
                    
                    }
                    
                 return $_SESSION['reg']['res'];
                    
                }
                
                
                function autorization($au_log,$au_pas){
                    global $link;
                    $login=mysqli_real_escape_string($link,trim($au_log));
                    $pass = trim($au_pas);
                    
                    
                    if (empty($login) OR empty($pass)) {
                        return &quot;0&quot;; //Незаполнин логин и/или пароль
                        }else{
                            
                            $query = &quot;SELECT login,sailt,pas FROM users WHERE login = '$login'  LIMIT 1&quot;;
                            $res =  mysqli_query($link,$query) ;
                            if (mysqli_num_rows($res) == 1){ //логин найден
                                $row = mysqli_fetch_assoc($res);
                                
                                $pass_h = hesh_pas($pass,$row['sailt']);
                                if (password_verify($pass_h, $row['pas'])) {
                                    $_SESSION['auth']['user'] = $row['login']; 
                                    return &quot;3&quot;;
                                }else{
                                    return &quot;2&quot;; //пароль не совпал
                                } 
                            }else {
                                return &quot;1&quot;; //Неверный логтн и/или пароль
                                
                            }
                        }
                        
                    
                    
                }
                
                
                function sailt(){
                    $sailt = &quot;&quot;;
                    for ($i=1; $i&lt;=20; $i++)
                    {
                     $sailt .=chr(rand(33,126));   
                    }
                    return $sailt;
                }
                
                function hesh_pas($pas,$sa){ 
                  $pas .= $sa;
                    $pas = md5(md5($sa).md5($pas));
                    
                    return $pas;
                }
                
                function shifr_mail($mail){
                   $mail = strrev($mail);
                   $re = &quot;&quot;;
                    for($i=0;$i&lt;strlen($mail);$i++)
                    {
                      $re .= chr(ord($mail[$i]) - $i); 
                    }
                    return $re;
                }
                
                
                function count_table($name){ 
                global $link;
                    
                    
                    $a = mysqli_query($link, &quot;SELECT COUNT(1) FROM $name&quot;);
                    $b = mysqli_fetch_array( $a );
                    return $b[0]; 
                }
                
                function count_table_par($name,$pole1,$znach1,$pole2,$znach2){ 
                global $link;
                    
                    
                    $a = mysqli_query($link, &quot;SELECT COUNT(1) FROM $name WHERE $pole1 = '$znach1' AND $pole2 = '$znach2' &quot;);
                    $b = mysqli_fetch_array( $a );
                    return $b[0]; 
                }
                
                
                function count_table2($name,$pole1,$znach1){ 
                global $link;
                    
                    
                    $a = mysqli_query($link, &quot;SELECT COUNT(1) FROM $name WHERE $pole1 = '$znach1' &quot;);
                    $b = mysqli_fetch_array( $a );
                    return $b[0]; 
                }
                
                
                ?&gt;</code></pre>
            
            
          </p>
          </div>
      </div>
      <div id="education">
      <h2>EDUCATION</h2>
      <ul>
          <li>>&nbsp;&nbsp;2007-2010 Gomel State Machine-Building College
            Specialty: “Information technology Software”.
            </li>
            <li>>&nbsp;&nbsp;Francisk Skorina Gomel State University
                Specialty: Automated information processing systems. </li>
      </ul>
      </div>
      <div id="english">
          <h2>ENGLISH</h2>
          <p>English-basic.</p>
      </div>
      <footer>
        <p><img src="IMG/Vector(2).png" width="20px" />&nbsp;&nbsp;+375 (29) 191-75-64</p>
        <p class="p"><img src="IMG/Email.png" width="20px" />&nbsp;&nbsp;neitron_h19@mail.ru</p>
      </footer>
    </div>
  </body>
</html>
